<app-top-nav></app-top-nav>
<div *ngIf="signUp">
<div class="create-profile-container">
  <main>
    <form>
      <img src="italladdsup/images/Avatar.png" class="bg" alt="">
      <h2 style="padding-top: 50px; padding-bottom: 50px;"> Create an account by completing the simple steps below:</h2>
    </form>

    <div class="userType toggle-button">
      <button  name="userType" value="teacher" class="toggle-button" id="teacher-toggle"(click)="changeUserType('teacher-toggle')">Teacher</button>
      <button  name="userType" value="student" class="toggle-button" id="student-toggle" (click)="changeUserType('student-toggle')">Student</button>
    </div>
    <div fxLayout="row">
      <div fxFlex="100">
        <div align="center">
          <mat-form-field appearance="outline">
            <mat-label>First Name</mat-label>
            <input (focus)="focused=true" (focusout)="focused=false"
            [(ngModel)]="newUser.name" matInput placeholder="First Name">
            <mat-hint style="color: red; font-size: 85%" *ngIf = "!newUser.name && !focused">{{nullNameError}}</mat-hint>
          </mat-form-field>
          <br>
          <mat-form-field appearance="outline">
            <mat-label>Last Name</mat-label>
            <input [(ngModel)]="newUser.lastName" matInput placeholder="Last Name">
          </mat-form-field>
          <br>
          <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input (focus)="focused=true" (focusout)="focused=false"
            [(ngModel)]="newUser.username" matInput placeholder="Username">
            <mat-hint style="color: red; font-size: 85%" *ngIf = "!newUser.username && !focused">{{nullUsernameError}}</mat-hint>
          </mat-form-field>
          <br>
          <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input (focus)="focused=true" (focusout)="focused=false"
            [(ngModel)]="newUser.password" type="password" matInput placeholder="Password">
            <mat-hint *ngIf="!isGenericMessage">Minimum 8 characters, must contain number and special character</mat-hint>
            <mat-hint *ngIf="isGenericMessage" style="color:red">Minimum 8 characters, must contain number and special
              character
            <span style="color:red; font-size: 85%" *ngIf = "!newUser.password && !focused">
              {{passwordError}} </span>
            </mat-hint>
          </mat-form-field>
        </div>
      </div>
      <div style="height:280px; width:1px; border-left:1px#bbb solid"></div>
      <div fxFlex="100">
        <div align="center">
          <mat-form-field appearance="outline">
            <mat-label>Confirm Password</mat-label>
            <input (focus)="focused=true" (focusout)="focused=false"
            [(ngModel)]="confirmPassword" type="password" matInput placeholder="Confirm Password">
            <mat-hint style="color: red; font-size: 85%"*ngIf = "confirmPassword && !focused">{{confirmPassError}}</mat-hint>
          </mat-form-field>
          <br>
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input (focus)="focused=true" (focusout)="focused=false"
            [(ngModel)]="newUser.email" matInput placeholder="Email">
            <mat-hint style="color: red; font-size: 85%" *ngIf = "!newUser.email && !focused">{{emailError}}</mat-hint>
          </mat-form-field>
          <br>
          <mat-form-field appearance="outline">
            <mat-label>Zip Code</mat-label>
            <input (focus)="focused=true" (focusout)="focused=false"
            [(ngModel)]="newUser.address" matInput placeholder="Zip Code">
            <mat-hint style="color: red; font-size: 85%" *ngIf = "!newUser.address && !focused">{{nullZipError}}</mat-hint>
          </mat-form-field>
          <br>
          <mat-form-field appearance="outline">
            <mat-label>School/Company</mat-label>
            <input (focus)="focused=true" (focusout)="focused=false"
            [(ngModel)]="newUser.organization" matInput placeholder="School/Company">
            <mat-hint>Optional</mat-hint>
          </mat-form-field>
        </div>
      </div>
    </div>
  </main>
</div>
<mat-grid-list cols="2" rowHeight="15em">
  <mat-grid-tile>
    <div class="upload-btn-wrapper">
      <button class="upload-file">Choose Profile Photo/Avatar</button>
      <input type="file" accept="image/*" (change)="fileEvent($event)" />
      <label class="upload-file-name" *ngIf="profilePicture">{{profilePicture.name}}</label>
    </div>
  </mat-grid-tile>
  <mat-grid-tile>
    <button mat-raised-button color="primary" (click)="createAccount()">Create</button>
  </mat-grid-tile>
</mat-grid-list>
<!-- somewhat redundant and not user friendly <mat-hint style="color: red; font-size: 75%">{{genericMessage}}</mat-hint> -->
</div>
<div *ngIf="!signUp">
  <h2 style="padding-top: 50px; padding-bottom: 50px;">Account successfully created! Click the login button below to begin!</h2>
  <button mat-raised-button color="primary" (click)="login()">Login</button>
</div>