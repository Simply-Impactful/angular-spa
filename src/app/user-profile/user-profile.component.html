<app-top-nav></app-top-nav>
<body style="background-color: rgb(240, 233, 233); height: 150px; padding:0px; margin:-25px">
    <div style="text-align:center;color:red">{{errorMessage}}</div>
  </body>
<main>
  <div fxLayout="row">
    <div fxFlex="100">
      <div align="right" style ="text-align:left">
        <mat-card class="user-profile-card">
          <img class = "avatar-size" mat-card-avatar src="{{user.picture}}">
        </mat-card>
        <br>
        <h4 style ="font-weight: bold"> {{user.username}} </h4>
        <br>
        <h5> Total Points: {{user.totalPoints}} </h5>
        <br>
      </div>
    </div>
    <div fxFlex="100">
      <br>
      <br>
      <div align="center" style = "text-align: right">
        <br>
        <h5  style ="font-weight: bold"> FIRST NAME :</h5>
        <br>
        <h5  style ="font-weight: bold"> LAST NAME :</h5>
        <br>
        <h5  style ="font-weight: bold"> EMAIL:</h5>
        <br>
        <h5  style ="font-weight: bold"> ZIP CODE:</h5>
        <br>
        <h5 style ="font-weight: bold"> SCHOOL/COMPANY:</h5>
      </div>
    </div>
    <div fxFlex="100" *ngIf = "isViewProfile">
      <div align="left" style = "padding-left: 1em">
          <br>
          <br>
        <br>
        <h5> {{user.name}} </h5>
        <br>
        <h5> {{user.lastName}} </h5>
        <br>
        <h5> {{user.email}}</h5>
        <br>
        <h5> {{user.address}}</h5>
        <br>
        <h5> {{user.organization}}</h5>
      </div>
    </div>
    <div fxFlex="100" *ngIf = "isEditProfile">
      <div align="left" style = "padding-left: 1em; font-size: 12px">
        <mat-form-field appearance="outline">
          <input [(ngModel)]="updatedUser.name" matInput placeholder="{{user.name}}">
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
            <input [(ngModel)]="updatedUser.lastName" matInput placeholder="{{user.lastName}}">
          </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <input [(ngModel)]="updatedUser.email" matInput placeholder="{{user.email}}">
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <input [(ngModel)]="updatedUser.address" matInput placeholder="{{user.address}}">
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <input [(ngModel)]="updatedUser.organization" matInput placeholder="{{user.organization}}">
        </mat-form-field>
      </div>
    </div>
  </div>
  <mat-grid-list cols="2" rowHeight="8em">
    <mat-grid-tile></mat-grid-tile>
    <mat-grid-tile>
      <button mat-button color="primary" (click)="editProfile()" *ngIf = "isViewProfile">EDIT PROFILE</button>
      <button mat-raised-button color="primary" (click)="saveChanges()" *ngIf = "isEditProfile" >SAVE CHANGES</button>
      <button mat-button style="font-size: 10px; widows: 150em" color="primary" *ngIf = "isEditProfile" routerLink="/resetpass">CHANGE PASSWORD</button>
    </mat-grid-tile>
  </mat-grid-list>
</main>
